<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<!-- saved from url=(0054)https://www.okpay.com/ru/developers/ipn/variables.html -->
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>
OKPAY | Разработчикам | Уведомление об оплате | Справочник переменных IPN
</title><meta name="yandex-verification" content="69ef238690342457">
<script type="text/javascript" async="" src="./OKPAY   Разработчикам   Уведомление об оплате   Справочник переменных IPN_files/ga.js"></script><script type="text/javascript">
var _gaq = _gaq || []; _gaq.push(['_setAccount', 'UA-10794252-3']); _gaq.push(['_trackPageview']);
(function () {
var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();
</script>
<meta name="Description"><meta name="Keywords"><link type="text/css" rel="stylesheet" href="./OKPAY   Разработчикам   Уведомление об оплате   Справочник переменных IPN_files/layout.css"><link type="opera/css" href="https://www.okpay.com/css/scroll_old.css"><link type="application/rss+xml" rel="alternate" title="OKPAY News" href="https://www.okpay.com/ru/company/news/news.rss"><!--[if IE 6]><link rel="stylesheet" href="/css/ie6.css" media="all" /><![endif]--><!--[if IE 7]><link rel="stylesheet" href="/css/ie6.css" media="all" /><![endif]--></head>
<body>
<form name="aspnetForm" method="post" action="./OKPAY   Разработчикам   Уведомление об оплате   Справочник переменных IPN_files/OKPAY   Разработчикам   Уведомление об оплате   Справочник переменных IPN.html" id="aspnetForm">
<div>
<input type="hidden" name="__VIEWSTATE" id="__VIEWSTATE" value="/wEPDwULLTExMDc4NjQ1MzRkZMkQqR38fneGbycHwTmMZtSgxPBf">
</div>
<script type="text/javascript" src="./OKPAY   Разработчикам   Уведомление об оплате   Справочник переменных IPN_files/jquery.min.js"></script><script type="text/javascript">if (typeof jQuery == 'undefined'){document.write(unescape("%3Cscript src='/js/jquery.js' type='text/javascript'%3E%3C/script%3E"));}</script>
<div id="header">
<div class="welcome">
<div id="dvLogin">
Добро пожаловать! <a href="https://www.okpay.com/ru/account/login.html">Войти в ваш аккаунт</a> или <a href="https://www.okpay.com/ru/account/signup.html">открыть новый счет</a>.
</div>
</div>
<div class="topline">
<div class="language">
<img class="arrow" src="./OKPAY   Разработчикам   Уведомление об оплате   Справочник переменных IPN_files/header_lang_arrow.gif" alt="">
<div id="LangPanel1_dvcurLang" style="margin:0 8px; padding: 4px 0;"><img src="./OKPAY   Разработчикам   Уведомление об оплате   Справочник переменных IPN_files/ru.png" alt="Русский">Русский</div>
<div id="LangPanel1_dvOtherLang" class="languages">
<a href="https://www.okpay.com/en/developers/ipn/variables.html"><img src="./OKPAY   Разработчикам   Уведомление об оплате   Справочник переменных IPN_files/us.png" alt=""><img src="./OKPAY   Разработчикам   Уведомление об оплате   Справочник переменных IPN_files/gb.png" style="margin-left:-5px;" alt="English">English</a><a href="https://www.okpay.com/es/developers/ipn/variables.html"><img src="./OKPAY   Разработчикам   Уведомление об оплате   Справочник переменных IPN_files/es.png" alt="Español">Español</a><a href="https://www.okpay.com/de/developers/ipn/variables.html"><img src="./OKPAY   Разработчикам   Уведомление об оплате   Справочник переменных IPN_files/de.png" alt="Deutsch">Deutsch</a><a href="https://www.okpay.com/it/developers/ipn/variables.html"><img src="./OKPAY   Разработчикам   Уведомление об оплате   Справочник переменных IPN_files/it.png" alt="Italiano">Italiano</a><a href="https://www.okpay.com/cn/developers/ipn/variables.html"><img src="./OKPAY   Разработчикам   Уведомление об оплате   Справочник переменных IPN_files/cn.png" alt="中国">中国</a><a href="https://www.okpay.com/th/developers/ipn/variables.html"><img src="./OKPAY   Разработчикам   Уведомление об оплате   Справочник переменных IPN_files/th.png" alt="ไทย">ไทย</a><a href="https://www.okpay.com/vn/developers/ipn/variables.html"><img src="./OKPAY   Разработчикам   Уведомление об оплате   Справочник переменных IPN_files/vn.png" alt="Việt">Việt</a><a href="https://www.okpay.com/ms/developers/ipn/variables.html"><img src="./OKPAY   Разработчикам   Уведомление об оплате   Справочник переменных IPN_files/ms.png" alt="Melayu">Melayu</a><a href="https://www.okpay.com/et/developers/ipn/variables.html"><img src="./OKPAY   Разработчикам   Уведомление об оплате   Справочник переменных IPN_files/et.png" alt="Eesti">Eesti</a><a href="https://www.okpay.com/hu/developers/ipn/variables.html"><img src="./OKPAY   Разработчикам   Уведомление об оплате   Справочник переменных IPN_files/hu.png" alt="Magyar">Magyar</a><a href="https://www.okpay.com/pl/developers/ipn/variables.html"><img src="./OKPAY   Разработчикам   Уведомление об оплате   Справочник переменных IPN_files/pl.png" alt="Polski">Polski</a><a href="https://www.okpay.com/fa/developers/ipn/variables.html"><img src="./OKPAY   Разработчикам   Уведомление об оплате   Справочник переменных IPN_files/fa.png" alt="فارسی">فارسی</a><a href="https://www.okpay.com/ar/developers/ipn/variables.html"><img src="./OKPAY   Разработчикам   Уведомление об оплате   Справочник переменных IPN_files/ar.png" alt=" العربية"> العربية</a></div>
</div>
<div class="support">
Нужна помощь? <br><a href="https://www.okpay.com/ru/support/index.html">Напишите</a> или <a href="https://www.okpay.com/ru/support/index.html#Talk">Позвоните</a>
</div>
</div>
<ul id="navigation">
<li class="logo ">
<a href="https://www.okpay.com/ru/index.html">
платежи —<br>это&nbsp;просто!
</a>
</li>
<li>
<a href="https://www.okpay.com/ru/solutions/index.html">Решения</a>
</li>
<li>
<a href="https://www.okpay.com/ru/support/index.html">Поддержка</a>
</li>
<li class="active">
<a href="https://www.okpay.com/ru/developers/index.html">Разработчикам</a>
</li>
<li>
<a href="https://www.okpay.com/ru/account/index.html">Мой счет</a>
</li>
</ul>
<div class="search">
<input type="text" name="txtSearch" id="txtSearch" class="field" value="Поиск" onfocus="this.value=(this.value==&#39;Поиск&#39;)?&#39;&#39;:this.value; $(this).css(&#39;color&#39;,&#39;#000&#39;);" onblur="this.value=(this.value==&#39;&#39;)?&#39;Поиск&#39;:this.value; $(this).css(&#39;color&#39;,&#39;#C2C2C2&#39;);" onkeypress="return SubmitOnEnter(this,event)">
<input type="button" name="btnSearch" id="btnSearch" class="button" onclick="SearchSite();">
</div>
<!--
<div class="marketplace">
<a href="/ru/marketplace/index.html">
<img src="/img/marketplace/market_logo_mini.png" alt="Marketplace" />
</a>
</div> -->
<div id="dvBottombar" class="bottombar">
<ul id="secondary">
<li class="f"><a href="https://www.okpay.com/ru/developers/marketplace/index.html">Каталог товаров</a></li>
<li><a href="https://www.okpay.com/ru/developers/paylinks/index.html">Ссылки на оплату</a></li>
<li><a href="https://www.okpay.com/ru/developers/seal/index.html">Печать OKPAY</a></li>
<li><a href="https://www.okpay.com/ru/developers/ipn/index.html">Уведомление об оплате</a></li>
<li><a href="https://www.okpay.com/ru/developers/interfaces/index.html">Интерфейсы</a></li>
<li><a href="https://www.okpay.com/ru/developers/currency-codes.html">Коды валют</a></li>
<li><a href="https://www.okpay.com/ru/developers/shop-systems/index.html">Системы магазинов</a></li>
</ul>
</div>
</div>
<div id="wrap">
<div id="sbarglobal" class="sidebar-global">
<script type="text/javascript">
$(document).ready(function() {
var cur_category = $("ul.navigation>li.active"); $("ul.navigation>li>a").mouseover(function() {
if ($(this).parent().html() != cur_category.html()) {if (cur_category) {cur_category.children("ul.dropdown").slideUp(300);}
$(this).parent().children("ul.dropdown").slideDown(300);cur_category = $(this).parent();}return false;
});
});
</script>
<div class="navigation_corners">
<div class="tr">
<div class="br">
<div class="bl">
<ul class="navigation">
<li><a href="https://www.okpay.com/ru/developers/index.html">Инструменты продавцов</a></li>
<ul class="subitem">
</ul>
<li><a href="https://www.okpay.com/ru/developers/assistance.html"></a></li>
<ul class="subitem">
</ul>
<li><a href="https://www.okpay.com/ru/developers/marketplace/index.html">Каталог товаров</a></li>
<ul class="subitem">
</ul>
<li><a href="https://www.okpay.com/ru/developers/paylinks/index.html">Ссылки на оплату</a></li>
<ul class="subitem">
<li><a href="https://www.okpay.com/ru/developers/paylinks/index.html">Обзор</a></li>
<li><a href="https://www.okpay.com/ru/developers/paylinks/generator.html">Генерация</a></li>
<li><a href="https://www.okpay.com/ru/developers/paylinks/buttons.html">Кнопки</a></li>
<li><a href="https://www.okpay.com/ru/developers/paylinks/variables.html">Справочник</a></li>
<li><a href="https://www.okpay.com/ru/developers/paylinks/auto-return.html">URL авто-возврата</a></li>
<li><a href="https://www.okpay.com/ru/developers/paylinks/code-samples.html">Code Samples</a></li>
</ul>
<li><a href="https://www.okpay.com/ru/developers/seal/index.html">Печать OKPAY</a></li>
<ul class="subitem">
</ul>
<li><a href="https://www.okpay.com/ru/developers/ipn/index.html">Уведомление об оплате</a></li>
<ul class="subitem">
<li><a href="https://www.okpay.com/ru/developers/ipn/index.html">Обзор IPN</a></li>
<li><a href="https://www.okpay.com/ru/developers/ipn/code-samples.html">Примеры кода</a></li>
<li><a href="https://www.okpay.com/ru/developers/ipn/history.html">История</a></li>
<li><a href="https://www.okpay.com/ru/developers/ipn/setup.html">Настройка</a></li>
<li><a href="https://www.okpay.com/ru/developers/ipn/testing.html">Тестирование</a></li>
<li class="active"><a href="./OKPAY   Разработчикам   Уведомление об оплате   Справочник переменных IPN_files/OKPAY   Разработчикам   Уведомление об оплате   Справочник переменных IPN.html">Справочник</a></li>
</ul>
<li><a href="https://www.okpay.com/ru/developers/interfaces/index.html">Интерфейсы</a></li>
<ul class="subitem">
<li><a href="https://www.okpay.com/ru/developers/interfaces/index.html">Обзор API</a></li>
<li><a href="https://www.okpay.com/ru/developers/interfaces/setup.html">Настройка</a></li>
<li><a href="https://www.okpay.com/ru/developers/interfaces/definitions.html">Определения</a></li>
<li><a href="https://www.okpay.com/ru/developers/interfaces/functions/index.html">Функции</a></li>
<li><a href="https://www.okpay.com/ru/developers/interfaces/code-samples.html">Примеры кода</a></li>
</ul>
<li><a href="https://www.okpay.com/ru/developers/currency-codes.html">Коды валют</a></li>
<ul class="subitem">
</ul>
<li><a href="https://www.okpay.com/ru/developers/shop-systems/index.html">Системы магазинов</a></li>
<ul class="subitem">
<li><a href="https://www.okpay.com/ru/developers/shop-systems/index.html">Обзор</a></li>
<li><a href="https://www.okpay.com/ru/developers/shop-systems/request.html">Запрос интеграции</a></li>
</ul>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="dvcontent" style="width:60%;" class=" content">
<div id="dvInnercontent" style="margin-right:13px;" class="round-border">
<ul class="navchain">
<li><a href="https://www.okpay.com/ru/index.html">Главная</a></li><li><a href="https://www.okpay.com/ru/developers/index.html">Разработчикам</a></li><li><a href="https://www.okpay.com/ru/developers/ipn/index.html">Уведомление об оплате</a></li>
</ul>
<h1 id="H1Title">Справочник переменных IPN</h1>
<p>OKPAY возвращает определенные переменные для каждого IPN сообщения. Перечисленные ниже переменные возвращаются не для каждого IPN.</p>
<ul>
<li><a class="inner" href="https://www.okpay.com/ru/developers/ipn/variables.html#enums"><strong>Переменные с перечисляемыми значениями</strong></a>
<ul>
<li><a class="inner" href="https://www.okpay.com/ru/developers/ipn/variables.html#ok_txn_kind">Тип операции</a></li>
<li><a class="inner" href="https://www.okpay.com/ru/developers/ipn/variables.html#ok_txn_payment_type">Способ платежа</a></li>
<li><a class="inner" href="https://www.okpay.com/ru/developers/ipn/variables.html#ok_txn_status">Статус операции</a></li>
<li><a class="inner" href="https://www.okpay.com/ru/developers/ipn/variables.html#ok_txn_pending_reason">Причина статуса "В ожидании"</a></li>
<li><a class="inner" href="https://www.okpay.com/ru/developers/ipn/variables.html#ok_txn_reversal_reason">Причина реверсии платежа</a></li>
<li><a class="inner" href="https://www.okpay.com/ru/developers/ipn/variables.html#ok_item_types">Тип элемента</a></li>
</ul>
</li>
<li><a class="inner" href="https://www.okpay.com/ru/developers/ipn/variables.html#trans"><strong>Переменные имеющие отношение к операции и уведомлению</strong></a>
<ul>
<li><a class="inner" href="https://www.okpay.com/ru/developers/ipn/variables.html#trans_general">Общая информация</a></li>
<li><a class="inner" href="https://www.okpay.com/ru/developers/ipn/variables.html#trans_receiver">Информация о получателе</a></li>
</ul>
</li>
<li><a class="inner" href="https://www.okpay.com/ru/developers/ipn/variables.html#buyer"><strong>Информация о покупателе</strong></a>
<ul>
<li><a class="inner" href="https://www.okpay.com/ru/developers/ipn/variables.html#buyer_other">Основная информация</a></li>
<li><a class="inner" href="https://www.okpay.com/ru/developers/ipn/variables.html#buyer_address">Информация об адресе</a></li>
</ul>
</li>
<li><a class="inner" href="https://www.okpay.com/ru/developers/ipn/variables.html#payment"><strong>Информация об оплате</strong></a>
<ul>
<li><a class="inner" href="https://www.okpay.com/ru/developers/ipn/variables.html#payment_general">Основные переменные об операции в целом</a></li>
<li><a class="inner" href="https://www.okpay.com/ru/developers/ipn/variables.html#payment_items">Переменные описывающие покупаемые элементы (SCI, кнопки и ссылки оплаты, каталог товаров)</a></li>
</ul>
</li>
</ul>
<h2 id="enums">Переменные с перечисляемыми значениями</h2>
<h3 id="ok_txn_kind">Тип операции</h3>
<p>Как правило, ваш обработчик выполняет конкретные действия, основанные переданном в IPN сообщении типе операции. Вы можете использовать переменную <code>ok_txn_kind</code> для запуска нужного типа обработки.</p>
<table cellspacing="0" width="100%" class="transactions-history show">
<thead>
<tr>
<th width="30%">Тип операции (ok_txn_kind)</th>
<th width="70%">Описание</th>
</tr>
</thead>
<tbody>
<tr>
<td width="30%"><code>mass_pay</code></td>
<td width="70%"><p>Платеж получен; источник - массовой платеж OKPAY.</p></td>
</tr>
<tr>
<td width="30%"><code>send_money</code></td>
<td width="70%"><p>Платеж получен; источник - ссылка "Отправить деньги" OKPAY.</p></td>
</tr>
<tr>
<td width="30%"><code>payment_link</code></td>
<td width="70%"><p>Платеж получен; источник - ссылка или кнопка оплаты OKPAY.</p></td>
</tr>
<tr>
<td width="30%"><code>marketplace</code></td>
<td width="70%">Платеж получен; источник - каталог товаров OKPAY (Marketplace).</td>
</tr>
</tbody>
</table>
<h3 id="ok_txn_payment_type">Способ платежа</h3>
<p>Используйте переменную <code>ok_txn_payment_type</code>, чтобы узнать как была произведена эта операция.</p>
<table cellspacing="0" width="100%" class="transactions-history show">
<thead>
<tr>
<th width="30%">Способ платежа (ok_txn_payment_type)</th>
<th width="70%">Описание</th>
</tr>
</thead>
<tbody>
<tr>
<td width="30%"><code>instant</code></td>
<td width="70%"><p>Этот платеж был произведен с кошелька OKPAY или посредством мгновенного перевода.</p></td>
</tr>
</tbody>
</table>
<h3 id="ok_txn_status">Статус операции</h3>
<p>Используйте переменную <code>ok_txn_status</code>, чтобы узнать статус платежа. Вы должны применять разную обработку в зависимости от значения этой переменной.</p>
<table cellspacing="0" width="100%" class="transactions-history show">
<thead>
<tr>
<th width="30%">Статус операции (ok_txn_status)</th>
<th width="70%">Описание</th>
</tr>
</thead>
<tbody>
<tr>
<td width="30%"><code>completed</code></td>
<td width="70%"><p>Оплата была завершена и средства были успешно зачислены на ваш счет.</p></td>
</tr>
<tr>
<td width="30%"><code>failed</code></td>
<td width="70%"><p>Платеж не прошел.</p></td>
</tr>
<tr>
<td width="30%"><code>pending</code></td>
<td width="70%">Оплата еще не принята (в ожидании). См. <code>ok_txn_pending_reason</code> для получения дополнительной информации.</td>
</tr>
<tr>
<td width="30%"><code>reversed</code></td>
<td width="70%">Произошла реверсия платежа.</td>
</tr>
</tbody>
</table>
<h3 id="ok_txn_pending_reason">Причина статуса "В ожидании"</h3>
<p>Переменная <code>ok_txn_pending_reason</code> содержит дополнительную информацию об операции со статусом <code>ok_txn_status = pending</code>.</p>
<table cellspacing="0" width="100%" class="transactions-history show">
<thead>
<tr>
<th width="30%">Причина статуса "В ожидании" (ok_txn_pending_reason)</th>
<th width="70%">Описание</th>
</tr>
</thead>
<tbody>
<tr>
<td width="30%"><code>review</code></td>
<td width="70%">Платеж находится в ожидании так как OKPAY проводит его проверку на риски.</td>
</tr>
<tr>
<td width="30%"><code>unilateral</code></td>
<td width="70%">Платеж находится в ожидании так как он был произведен на незарегистрированный или неподтвержденный адрес электронной почты.</td>
</tr>
<tr>
<td width="30%"><code>verify</code></td>
<td width="70%"><p>Платеж находится в ожидании так как ваш счет в OKPAY еще не подтвержден. Вы должны удостоверить вашу личность, прежде чем принять этот платеж.</p></td>
</tr>
<tr>
<td width="30%"><code>other</code></td>
<td width="70%"><p>Платеж находится в ожидании по причине не указанной выше. Для получения дополнительной информации обратитесь в службу поддержки клиентов OKPAY.</p></td>
</tr>
</tbody>
</table>
<h3 id="ok_txn_reversal_reason">Причина реверсии платежа</h3>
<p>Если вам пришло сообщение об операции со статусом <code>ok_txn_status = reversed</code> используйте переменную <code>ok_txn_reversal_reason</code>, чтобы узнать причину реверсии. Примечание: Могут быть возвращены дополнительные коды.</p>
<table cellspacing="0" width="100%" class="transactions-history show">
<thead>
<tr>
<th width="30%">Причина реверсии платежа  (ok_txn_reversal_reason)</th>
<th width="70%">Описание</th>
</tr>
</thead>
<tbody>
<tr>
<td width="30%"><code>other</code></td>
<td width="70%"><p> Другая причина.</p></td>
</tr>
<tr>
<td width="30%"><code>refund</code></td>
<td width="70%">Продавец  вернул платеж клиенту.</td>
</tr>
<tr>
<td><code>chargeback</code></td>
<td>Транзакция была отменана изза поступившего возврата от процессора платежей.</td>
</tr>
</tbody>
</table>
<h3 id="ok_item_types">Тип элемента</h3>
<p>Типы продаваемых элементов.</p>
<table cellspacing="0" width="100%" class="transactions-history show">
<thead>
<tr>
<th width="30%">Тип элемента  (ok_item_#_type)</th>
<th width="70%">Описание</th>
</tr>
</thead>
<tbody>
<tr>
<td width="30%"><code>shipment</code></td>
<td width="70%"><p>Материальный товар</p></td>
</tr>
<tr>
<td><code>digital</code></td>
<td> Цифровой продукт</td>
</tr>
<tr>
<td><code>service</code></td>
<td> Сервис</td>
</tr>
<tr>
<td><code>donation</code></td>
<td> Пожертвование</td>
</tr>
</tbody>
</table>
<p>&nbsp;</p>
<h2 id="trans">Переменные имеющие отношение к операции и уведомлению</h2>
<p>Эти переменные  предоставляют информацию о получателе платежа, а также служебную информацию  IPN сообщения.</p>
<table cellspacing="0" width="100%" class="transactions-history show">
<thead>
<tr>
<th width="20%">Имя переменной</th>
<th>Описание</th>
<th width="5%">Макс. длина</th>
</tr>
</thead>
<tbody>
<tr>
<td colspan="3"><h3 id="trans_general">Общая информация</h3></td>
</tr>
<tr>
<td width="20%"><code>ok_charset</code></td>
<td><p>Набор символов. Всегда UTF-8.</p></td>
<td width="5%" align="center"><strong>20</strong></td>
</tr>
<tr>
<td width="20%"><code>ok_ipn_test</code></td>
<td><p>Является ли это сообщение тестовым. Это тестовое сообщение если значение больше нуля.</p></td>
<td width="5%" align="center"><strong>13</strong></td>
</tr>
<tr>
<td width="20%"><code>ok_ipn_resend</code></td>
<td><p>Является ли данное IPN сообщение повторным (если это так - 1, иначе это исходное сообщение).</p></td>
<td width="5%" align="center"><strong>1</strong></td>
</tr>
<tr>
<td colspan="3"><h3 id="trans_receiver">Информация о получателе</h3></td>
</tr>
<tr>
<td><code>ok_receiver</code></td>
<td>В случае если тип этой операции (<a href="https://www.okpay.com/ru/developers/ipn/variables.html#ok_txn_kind" class="inner">ok_txn_kind</a>) равен <code>
<cope>payment_link</cope>
</code> или <code>shopping_cart</code> - тогда эта переменная будет содержать значение, которое было задано в начальной переменной ( см. <a href="https://www.okpay.com/developers/paylinks/variables.html">Кнопки и ссылки оплаты</a>).</td>
<td align="center"><strong>127</strong></td>
</tr>
<tr>
<td width="20%"><code>ok_receiver_email</code></td>
<td><p>Адрес электронной почты получателя платежа (то есть продавца).<br>
Примечание: Значение этой переменной приводится в строчных буквах.</p></td>
<td width="5%" align="center"><strong>127</strong></td>
</tr>
<tr>
<td><code>ok_receiver_phone</code></td>
<td>Номер телефона получателя платежа (то есть продавца).</td>
<td align="center"><strong>127</strong></td>
</tr>
<tr>
<td width="20%"><code>ok_receiver_id</code></td>
<td><p>Уникальный идентификатор счета получателя платежа (продавца). Это ID вашего счета в OKPAY.</p></td>
<td width="5%" align="center"><strong>13</strong></td>
</tr>
<tr>
<td width="20%"><code>ok_receiver_wallet</code></td>
<td><p>Номер (ID) кошелька получателя.</p></td>
<td width="5%" align="center"><strong>24</strong></td>
</tr>
</tbody>
</table>
<h2 id="buyer">Информация о покупателе</h2>
<p>Информация о покупателе идентифицирует покупателя (инициатора операции) по ID его счета, адресу электронной почты или номеру мобильного телефона. Дополнительно может быть передана информация об адресе доставки.</p>
<table cellspacing="0" width="100%" class="transactions-history show">
<thead>
<tr>
<th width="20%">Имя переменной</th>
<th>Описание</th>
<th width="5%" align="center">Макс. длина</th>
</tr>
<tr>
<td colspan="3"><h3 id="buyer_other">Основная информация</h3></td>
</tr>
<tr>
<td><code> ok_payer_first_name</code></td>
<td><p>Имя клиента. Это поле может содержать "Anonymous" для анонимных пользователей.</p></td>
<td align="center"><strong>64</strong></td>
</tr>
<tr>
<td><code> ok_payer_last_name</code></td>
<td><p>Фамилия клиента. Это поле может содержать "Anonymous" для анонимных пользователей.</p></td>
<td align="center"><strong>64</strong></td>
</tr>
<tr>
<td><code> ok_payer_business_name</code></td>
<td><p>Имя компании, если у клиента корпоративный аккаунт.</p></td>
<td align="center"><strong>127</strong></td>
</tr>
<tr>
<td><code> ok_payer_email</code></td>
<td><p>Электронный адрес клиента.</p></td>
<td align="center"><strong>127</strong></td>
</tr>
<tr>
<td><code> ok_payer_phone</code></td>
<td><p>Телефонный номер клиента.</p></td>
<td align="center"><strong>20</strong></td>
</tr>
<tr>
<td><code> ok_payer_id</code></td>
<td><p>Уникальный ID счета клиента.</p></td>
<td align="center"><strong>13</strong></td>
</tr>
<tr>
<td><code>ok_payer_reputation</code></td>
<td>Бизнес оценка клиента - значение его бизнес репутации.</td>
<td align="center"><strong>5</strong></td>
</tr>
<tr>
<td><p><code> ok_payer_status</code></p></td>
<td><p>Является ли клиент удостоверенным клиентом OKPAY.</p>
<ul>
<li>verified – Клиент удостоверил свой счет в OKPAY.</li>
<li>unverified – Клиент имеет непроверенный счет в OKPAY.</li>
</ul></td>
<td align="center"><strong>20</strong></td>
</tr>
</thead>
<tbody>
<tr>
<td colspan="3"><h3 id="buyer_address">Информация об адресе</h3></td>
</tr>
<tr>
<td><code> ok_payer_country_code</code></td>
<td><p>ISO 3166 код страны, связанный с адресом клиента.</p></td>
<td align="center"><strong>2</strong></td>
</tr>
<tr>
<td width="20%"><code>ok_payer_country</code></td>
<td>Страна адреса клиента.</td>
<td width="5%" align="center"><strong>64</strong></td>
</tr>
<tr>
<td width="20%"><code>ok_payer_city</code></td>
<td>Город адреса клиента.</td>
<td width="5%" align="center"><strong>40</strong></td>
</tr>
<tr>
<td width="20%"><code> ok_payer_state</code></td>
<td><p>Штат/провинция/регион адреса клиента.</p></td>
<td width="5%" align="center"><strong>40</strong></td>
</tr>
<tr>
<td width="20%"><code> ok_payer_street</code></td>
<td><p>Улица адреса клиента.</p></td>
<td width="5%" align="center"><strong>200</strong></td>
</tr>
<tr>
<td width="20%"><code> ok_payer_zip</code></td>
<td><p>Zip/почтовый индекс адреса клиента.</p></td>
<td width="5%" align="center"><strong>20</strong></td>
</tr>
<tr>
<td><code> ok_payer_address_name</code></td>
<td><p>Название адреса.</p></td>
<td align="center"><strong>128</strong></td>
</tr>
<tr>
<td width="20%"><code> ok_payer_address_status</code></td>
<td><p>Подтвердил ли клиент свой адрес. Это одно из следующих значений:</p>
<ul>
<li>confirmed – Клиент предоставил подтвержденный адрес.</li>
<li>unconfirmed – Клиент предоставил неподтвержденный адрес.</li>
</ul></td>
<td width="5%" align="center"><strong>20</strong></td>
</tr>
</tbody>
</table>
<h2 id="payment">Информация об оплате</h2>
<p>Информация об оплате содержит сумму и статус платежной операции, в том числе комиссию.</p>
<table cellspacing="0" width="100%" class="transactions-history show">
<thead>
<tr>
<th width="20%"> <p>Имя переменной</p></th>
<th> <p>Описание</p></th>
<th width="5%">Макс. длина</th>
</tr>
<tr>
<td colspan="3"><h3 id="payment_general">Основные переменные об операции в целом</h3></td>
</tr>
<tr>
<td width="20%"><code>ok_txn_id</code></td>
<td><p>Уникальный ID операции.</p></td>
<td width="5%" align="center"><strong>19</strong></td>
</tr>
<tr>
<td width="20%"><code>ok_txn_parent_id</code></td>
<td><p>В случае реверсии эта переменная содержит <code>ok_txn_id</code> первоначальной операции, а <code>ok_txn_id</code> содержит ID для новой операции.</p></td>
<td width="5%" align="center"><strong>19</strong></td>
</tr>
<tr>
<td><code>ok_txn_datetime</code></td>
<td>Дата/время операции в следующем формате:    YYYY-MM-DD HH:MM:SS</td>
<td align="center"><strong>19</strong></td>
</tr>
<tr>
<td width="20%"><code>ok_txn_kind</code></td>
<td><p><a class="inner" href="https://www.okpay.com/ru/developers/ipn/variables.html#ok_txn_kind">Тип операции</a>, для которой было отправлено это IPN сообщение.</p></td>
<td width="5%" align="center"><strong>40</strong></td>
</tr>
</thead>
<tbody>
<tr>
<td width="20%"><code>ok_txn_payment_type</code></td>
<td><p><a class="inner" href="https://www.okpay.com/ru/developers/ipn/variables.html#ok_txn_payment_type">Способ платежа</a>.</p></td>
<td width="5%" align="center"><strong>40</strong></td>
</tr>
<tr>
<td><code>ok_txn_status</code></td>
<td><p><a class="inner" href="https://www.okpay.com/ru/developers/ipn/variables.html#ok_txn_status">Статус платежа</a>.</p></td>
<td align="center"><strong>40</strong></td>
</tr>
<tr>
<td><code>ok_txn_pending_reason</code></td>
<td><p>Эта переменная может быть установлена только если <code>ok_txn_status   = pending</code>. Возможные <a class="inner" href="https://www.okpay.com/ru/developers/ipn/variables.html#ok_txn_pending_reason">причины статуса "В ожидании"</a>.</p></td>
<td align="center"><strong>40</strong></td>
</tr>
<tr>
<td><code>ok_txn_reversal_reason</code></td>
<td><p>Эта переменная может быть установлена только если <code>ok_txn_status = reversed</code>. Возможные <a class="inner" href="https://www.okpay.com/ru/developers/ipn/variables.html#ok_txn_reversal_reason">причины реверсии платежа</a>.</p></td>
<td align="center"><strong>40</strong></td>
</tr>
<tr>
<td><code>ok_txn_currency</code></td>
<td>Валюта операции. <a href="https://www.okpay.com/developers/currency-codes.html">3-буквенный код в стандарте ISO 4217</a>.</td>
<td align="center"><strong>3</strong></td>
</tr>
<tr>
<td><code>ok_txn_exchange_rate</code></td>
<td>Использованный курс обмена, если производилась конвертация валюты.</td>
<td align="center"><strong>10</strong></td>
</tr>
<tr>
<td width="20%"><code>ok_txn_gross</code></td>
<td>Полная сумма платежа без вычета комиссии. Если это отрицательная сумма, это означает реверсию платежа и эта операция может быть полным или частичным возвратом суммы первоначальной операции. Сумма <code>ok_txn_gross</code> это общая сумма  <code>ok_item_x_gross</code> (где х это номер элемента в корзине покупок).</td>
<td width="5%" align="center"><strong>15</strong></td>
</tr>
<tr>
<td width="20%"><code>ok_txn_net</code></td>
<td>Сумма платежа клиента, за вычетом суммы комиссии.</td>
<td width="5%" align="center"><strong>15</strong></td>
</tr>
<tr>
<td width="20%"><code>ok_txn_fee</code></td>
<td>Сумма комиссия данной операции. <code>ok_txn_gross</code> минус <code>ok_txn_fee</code> равняется сумме зачисленной на кошелек   <code>ok_receiver_email</code>. Если это отрицательная сумма, это означает реверсию платежа и эта операция может быть полным или частичным возвратом суммы первоначальной операции. </td>
<td width="5%" align="center"><strong>15</strong></td>
</tr>
<tr>
<td width="20%"><code>ok_txn_handling</code></td>
<td><p>Общая стоимость обработки связанная с операцией.<br>
Формат: без знака, без символа валюты, два знака после запятой.</p></td>
<td width="5%" align="center"><strong>15</strong></td>
</tr>
<tr>
<td width="20%"><code>ok_txn_shipping</code></td>
<td><p>Общая стоимость доставки связанная с операцией.<br>
Формат: без знака, без символа валюты, два знака после запятой.</p></td>
<td width="5%" align="center"><strong>15</strong></td>
</tr>
<tr>
<td width="20%"><code>ok_txn_shipping_method</code></td>
<td>Покупатель выбрал указанный способ доставки.</td>
<td width="5%" align="center"><strong>64</strong></td>
</tr>
<tr>
<td width="20%"><code>ok_txn_tax</code></td>
<td>Сумма налога взимаемого продавцом для этого платежа.</td>
<td width="5%" align="center">&nbsp;</td>
</tr>
<tr>
<td width="20%"><code>ok_txn_comment</code></td>
<td><p>Комментарий вашего клиента.</p></td>
<td width="5%" align="center"><strong>255</strong></td>
</tr>
<tr>
<td width="20%"><code>ok_invoice</code></td>
<td><p>Транзитная переменная которую можно использовать для передачи номера счета для этого платежа.</p></td>
<td width="5%" align="center"><strong>127</strong></td>
</tr>
<tr>
<td colspan="3"><h3 id="payment_items">Переменные описывающие покупаемые элементы (SCI, кнопки и ссылки оплаты, каталог товаров)</h3>
<p>Если это операция совершена с помощью корзины покупателя, OKPAY вместо # подставит номер элемента в корзине (например,  <code>ok_item_1_name</code>,   <code>ok_item_2_name</code> и т.д.).</p></td>
</tr>
<tr>
<td width="20%"><code>ok_items_count</code></td>
<td><p>Количество элементов в корзине.</p></td>
<td width="5%" align="center"><strong>2</strong></td>
</tr>
<tr>
<td width="20%"><code>ok_item_#_id</code></td>
<td>Если это покупка из каталога товаров OKPAY передаст ID этого элемента.</td>
<td width="5%" align="center"><strong>19</strong></td>
</tr>
<tr>
<td width="20%"><code>ok_item_#_name</code></td>
<td>Название элемента заданное продавцом или покупателем.</td>
<td width="5%" align="center"><strong>127</strong></td>
</tr>
<tr>
<td width="20%"><code>ok_item_#_article</code></td>
<td>Сквозной переменная для отслеживания покупки. Если вы ее укажете она будет передана вам обратно после завершения платежа.</td>
<td width="5%" align="center"><strong>40</strong></td>
</tr>
<tr>
<td width="20%"><code>ok_item_#_type</code></td>
<td><a class="inner" href="https://www.okpay.com/ru/developers/ipn/variables.html#ok_item_types">Тип элемента</a>.</td>
<td width="5%" align="center"><strong>64</strong></td>
</tr>
<tr>
<td width="20%"><code>ok_item_#_quantity</code></td>
<td>Количество, может быть передано вами или введено вашим покупателем.</td>
<td width="5%" align="center"><strong>8</strong></td>
</tr>
<tr>
<td><code>ok_item_#_gross</code></td>
<td>Гросс сумма элемента в валюте  <code>ok_txn_currency</code>. Сумма <code>ok_item_x_gross</code> представляет собой сумму <code>ok_item_x_price</code> + <code>ok_item_x_handling</code> + <code>ok_item_x_shipping</code> + <code>ok_item_x_tax</code>.</td>
<td align="center"><strong>15</strong></td>
</tr>
<tr>
<td width="20%"><code>ok_item_#_price</code></td>
<td>Цена товара без учета стоимости доставки, обработки и/или налоговых сборов.</td>
<td width="5%" align="center"><strong>15</strong></td>
</tr>
<tr>
<td width="20%"><code>ok_item_#_handling</code></td>
<td><p>Стоимость обработки элемента х, эта переменная показывается только если продавец указал стоимость обработки для конкретного элемента. Сумма стоимостей обработки для всех элементов это <code>ok_txn_handling</code>.</p></td>
<td width="5%" align="center"><strong>15</strong></td>
</tr>
<tr>
<td width="20%"><code>ok_item_#_shipping</code></td>
<td>Стоимость доставки элемента х, эта переменная показывается только если продавец указал стоимость доставки для  конкретного элемента. Сумма стоимостей доставки для всех элементов это <code>ok_txn_shipping</code>.</td>
<td width="5%" align="center"><strong>15</strong></td>
</tr>
<tr>
<td width="20%"><code>ok_item_#_tax</code></td>
<td>Сумма налога элемента х, эта переменная показывается только если продавец указал сумму налога для  конкретного элемента. Сумма налога для всех элементов это<code> ok_txn_tax</code>.</td>
<td width="5%" align="center"><strong>15</strong></td>
</tr>
<tr>
<td width="20%"><p><code>ok_item_#_custom_1_title</code></p></td>
<td><p>Имя настраиваемого поля №1. </p></td>
<td width="5%" align="center"><strong>127</strong></td>
</tr>
<tr>
<td><code>ok_item_#_custom_1_value</code></td>
<td>Значение  настраиваемого поля №1, введенное клиентом. </td>
<td align="center"><strong>127</strong></td>
</tr>
<tr>
<td><code>ok_item_#_custom_2_title</code></td>
<td>Имя настраиваемого поля №2. </td>
<td align="center"><strong>127</strong></td>
</tr>
<tr>
<td width="20%"><code>ok_item_#_custom_2_value</code></td>
<td>Значение  настраиваемого поля №2, введенное клиентом. </td>
<td width="5%" align="center"><strong>127</strong></td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="sbarlocal" class="sidebar-local">
<div id="dvSidesignup" class="signup">
<div class="inner">
<div class="r">
<a href="https://www.okpay.com/ru/account/signup.html" class="center">
<span style="display:block; margin-left:-42px;width:184px;">Открыть счет</span>
</a>
</div>
</div>
</div>
<div id="dvSidelogin" class="login">
<div class="wrap">
<div class="loginForm">
<h3>
Управление счетом
</h3>
<label for="txtLogin" id="Login_Email">Эл.почта</label>
<input name="ctl00$txtLogin" type="text" id="txtLogin" class="input">
<div style="clear:both; height: 5px;"></div>
<label for="txtPassword" id="Login_Password">Пароль</label>
<input name="ctl00$txtPassword" type="password" id="txtPassword" class="input">
<div style="clear:both; height: 5px;"></div>
<div style="margin-left:37%; margin-top:10px;">
<div class="input-button-block blue">
<input type="submit" name="ctl00$Login_btnLogin" value="Войти" id="Login_btnLogin">
</div>
</div>
<div style="clear:both;"></div>
<div class="link">
<a href="https://www.okpay.com/ru/account/forgot-password.html">
Забыли пароль?
</a>
</div>
<div class="link">
<a href="https://www.okpay.com/ru/account/email-recovery.html">
Забыли эл. почту?
</a>
</div>
</div>
</div>
</div>
<div class="debitcardlink">
<div class="wrap">
<div class="loginForm">
<h3>
Дебетовая карта OKPAY
</h3>
<a href="https://www.okpay.com/ru/services/debit-card/index.html" class="img">
<span style="display: block;padding-left:16px;padding-top:108px;">Введите Ваше имя</span>
</a>
</div>
</div>
</div>
<div id="shopSystem" class="shop-system">
<div class="inner">
<h3 class="r">
<a href="https://www.okpay.com/ru/developers/shop-systems/index.html">
Supported <br>
Shopping <br>
Carts
</a>
</h3>
</div>
<div class="list">
<a href="https://www.okpay.com/ru/developers/shop-systems/viart/index.html" class="img"><img src="./OKPAY   Разработчикам   Уведомление об оплате   Справочник переменных IPN_files/159851.jpg" alt="ViArt Shop" title="ViArt Shop"></a>
<a href="https://www.okpay.com/ru/developers/shop-systems/sebercart/index.html" class="img"><img src="./OKPAY   Разработчикам   Уведомление об оплате   Справочник переменных IPN_files/148664.jpg" alt="Seber Cart" title="Seber Cart"></a>
<a href="https://www.okpay.com/ru/developers/shop-systems/alegrocart/index.html" class="img"><img src="./OKPAY   Разработчикам   Уведомление об оплате   Справочник переменных IPN_files/166066.jpg" alt="AlegroCart" title="AlegroCart"></a>
<a href="https://www.okpay.com/ru/developers/shop-systems/virtuemart/index.html" class="img"><img src="./OKPAY   Разработчикам   Уведомление об оплате   Справочник переменных IPN_files/13916.jpg" alt="VirtueMart" title="VirtueMart"></a>
<a href="https://www.okpay.com/ru/developers/shop-systems/cubecart/index.html" class="img"><img src="./OKPAY   Разработчикам   Уведомление об оплате   Справочник переменных IPN_files/123804.jpg" alt="CubeCart" title="CubeCart"></a>
<a href="https://www.okpay.com/ru/developers/shop-systems/oscommerce/index.html" class="img"><img src="./OKPAY   Разработчикам   Уведомление об оплате   Справочник переменных IPN_files/12673.jpg" alt="osCommerce" title="osCommerce"></a>
<a href="https://www.okpay.com/ru/developers/shop-systems/inetstore/index.html" class="img"><img src="./OKPAY   Разработчикам   Уведомление об оплате   Справочник переменных IPN_files/137477.jpg" alt="iNETstore" title="iNETstore"></a>
<a href="https://www.okpay.com/ru/developers/shop-systems/storesprite/index.html" class="img"><img src="./OKPAY   Разработчикам   Уведомление об оплате   Справочник переменных IPN_files/156122.jpg" alt="Storesprite" title="Storesprite"></a>
<a href="https://www.okpay.com/ru/developers/shop-systems/precisionweb/index.html" class="img"><img src="./OKPAY   Разработчикам   Уведомление об оплате   Справочник переменных IPN_files/146178.jpg" alt="PrecisionWeb.net" title="PrecisionWeb.net"></a>
<a href="https://www.okpay.com/ru/developers/shop-systems/3dcart/index.html" class="img"><img src="./OKPAY   Разработчикам   Уведомление об оплате   Справочник переменных IPN_files/17645.jpg" alt="3dCart" title="3dCart"></a>
<div style="clear:both;"></div>
</div>
</div>
<div id="dvRigthContent" class="document-contents">
</div>
</div>
</div>
<div style="clear:both;"></div>
<div>
<input type="hidden" name="__EVENTVALIDATION" id="__EVENTVALIDATION" value="/wEWBALJuNWiBQLT4e+AAwKB7cu1BQK4oP2ICiPCnANi8iCoEE8q71eu1ZaMCqXP">
</div>
<script type="text/javascript" src="./OKPAY   Разработчикам   Уведомление об оплате   Справочник переменных IPN_files/util.js"></script></form>
<div id="footer">
<div class="container">
<div class="round-border">
<div class="copyright">
<div>
<p style="text-align:right;">
<span>
Авторские права © 2007–2012 OKPAY Inc. Все права защищены.
</span>
</p>
</div>
<div>
<p style="text-align:left; margin-left:20px;">
<span id="spBottomLinks">
<a href="https://www.okpay.com/ru/index.html">Главная</a>
|
<a href="https://www.okpay.com/ru/site-map.html">Карта сайта</a>
|
<a href="https://www.okpay.com/ru/company/agreements/index.html">Юридические соглашения</a>
|
<a href="https://www.okpay.com/ru/company/index.html">Компания</a>
</span>
</p>
</div>
</div>
<div style="clear:both;"></div>
<div class="info">
<div>
<p style="text-align:right;">
OKPAY® это зарегистрированная торговая марка компании OKPAY Inc.<br>
Financial Services provided by UWC Financial Services Ltd.
</p>
</div>
<div>
<p style="text-align:left; margin-left:20px;">
OKPAY, Inc., VG1110, Mill Mall Tower, 2nd Floor, Wickhams Cay 1, <br> PO Box 4406, Road Town, Tortola, British Virgin Islands.
</p>
</div>
</div>
<div style="clear:both;"></div>
</div>
</div>
</div>
<script type="text/javascript">
$(function () {
langpanel(); preloadimg();
var pathname = window.location.pathname;
if (pathname.indexOf("ar") != -1 || pathname.indexOf("fa") != -1) {
if ($.browser.msie) {
$("div.form div.line").append("<span class='iefake'>&nbsp;</span>");
}
}
});
function SubmitOnEnter(myfield, e){
var keycode;if (window.event){keycode = window.event.keyCode;}
else if (e) keycode = e.which;
else return true;
if (keycode == 13){SearchSite();return false;}
else return true;}
function SearchSite(){
document.location.href='http://www.google.com/cse?cx=013398180710766064738:gwzrrk3zahi&ie=UTF-8&q=' +
document.getElementById('txtSearch').value + '&sa=Search';
}
</script>
<noscript>
&lt;div style="position:absolute; top:0; height:20px; background:#FFF"&gt;
&lt;p class="nonjsAlert"&gt;Примечание: многие функции на веб-сайте OKPAY требуют включенных JavaScript и Cookies. Вы должны включить эти опции в настройках браузера.&lt;/p&gt;
&lt;/div&gt;
</noscript>


<div style="display: none; " id="hiddenlpsubmitdiv"></div><script>try{for(var lastpass_iter=0; lastpass_iter < document.forms.length; lastpass_iter++){ var lastpass_f = document.forms[lastpass_iter]; if(typeof(lastpass_f.lpsubmitorig2)=="undefined"){ lastpass_f.lpsubmitorig2 = lastpass_f.submit; lastpass_f.submit = function(){ var form=this; var customEvent = document.createEvent("Event"); customEvent.initEvent("lpCustomEvent", true, true); var d = document.getElementById("hiddenlpsubmitdiv"); for(var i = 0; i < document.forms.length; i++){ if(document.forms[i]==form){ d.innerText=i; } } d.dispatchEvent(customEvent); form.lpsubmitorig2(); } } }}catch(e){}</script></body></html>