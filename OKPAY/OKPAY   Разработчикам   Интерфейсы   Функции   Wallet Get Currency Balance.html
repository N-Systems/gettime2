<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<!-- saved from url=(0089)https://www.okpay.com/ru/developers/interfaces/functions/wallet-get-currency-balance.html -->
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>
OKPAY | Разработчикам | Интерфейсы | Функции | Wallet Get Currency Balance
</title><meta name="yandex-verification" content="69ef238690342457">
<script type="text/javascript" async="" src="./OKPAY   Разработчикам   Интерфейсы   Функции   Wallet Get Currency Balance_files/ga.js"></script><script type="text/javascript">
var _gaq = _gaq || []; _gaq.push(['_setAccount', 'UA-10794252-3']); _gaq.push(['_trackPageview']);
(function () {
var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();
</script>
<meta name="Description"><meta name="Keywords"><link type="text/css" rel="stylesheet" href="./OKPAY   Разработчикам   Интерфейсы   Функции   Wallet Get Currency Balance_files/layout.css"><link type="opera/css" href="https://www.okpay.com/css/scroll_old.css"><link type="application/rss+xml" rel="alternate" title="OKPAY News" href="https://www.okpay.com/ru/company/news/news.rss"><!--[if IE 6]><link rel="stylesheet" href="/css/ie6.css" media="all" /><![endif]--><!--[if IE 7]><link rel="stylesheet" href="/css/ie6.css" media="all" /><![endif]--></head>
<body>
<form name="aspnetForm" method="post" action="./OKPAY   Разработчикам   Интерфейсы   Функции   Wallet Get Currency Balance_files/OKPAY   Разработчикам   Интерфейсы   Функции   Wallet Get Currency Balance.html" id="aspnetForm">
<div>
<input type="hidden" name="__VIEWSTATE" id="__VIEWSTATE" value="/wEPDwULLTExMDc4NjQ1MzRkZI7MULVq6226g56dHHaiXqdlZui4">
</div>
<script type="text/javascript" src="./OKPAY   Разработчикам   Интерфейсы   Функции   Wallet Get Currency Balance_files/jquery.min.js"></script><script type="text/javascript">if (typeof jQuery == 'undefined'){document.write(unescape("%3Cscript src='/js/jquery.js' type='text/javascript'%3E%3C/script%3E"));}</script>
<div id="header">
<div class="welcome">
<div id="dvLogin">
Добро пожаловать! <a href="https://www.okpay.com/ru/account/login.html">Войти в ваш аккаунт</a> или <a href="https://www.okpay.com/ru/account/signup.html">открыть новый счет</a>.
</div>
</div>
<div class="topline">
<div class="language">
<img class="arrow" src="./OKPAY   Разработчикам   Интерфейсы   Функции   Wallet Get Currency Balance_files/header_lang_arrow.gif" alt="">
<div id="LangPanel1_dvcurLang" style="margin:0 8px; padding: 4px 0;"><img src="./OKPAY   Разработчикам   Интерфейсы   Функции   Wallet Get Currency Balance_files/ru.png" alt="Русский">Русский</div>
<div id="LangPanel1_dvOtherLang" class="languages">
<a href="https://www.okpay.com/en/developers/interfaces/functions/wallet-get-currency-balance.html"><img src="./OKPAY   Разработчикам   Интерфейсы   Функции   Wallet Get Currency Balance_files/us.png" alt=""><img src="./OKPAY   Разработчикам   Интерфейсы   Функции   Wallet Get Currency Balance_files/gb.png" style="margin-left:-5px;" alt="English">English</a><a href="https://www.okpay.com/es/developers/interfaces/functions/wallet-get-currency-balance.html"><img src="./OKPAY   Разработчикам   Интерфейсы   Функции   Wallet Get Currency Balance_files/es.png" alt="Español">Español</a><a href="https://www.okpay.com/de/developers/interfaces/functions/wallet-get-currency-balance.html"><img src="./OKPAY   Разработчикам   Интерфейсы   Функции   Wallet Get Currency Balance_files/de.png" alt="Deutsch">Deutsch</a><a href="https://www.okpay.com/it/developers/interfaces/functions/wallet-get-currency-balance.html"><img src="./OKPAY   Разработчикам   Интерфейсы   Функции   Wallet Get Currency Balance_files/it.png" alt="Italiano">Italiano</a><a href="https://www.okpay.com/cn/developers/interfaces/functions/wallet-get-currency-balance.html"><img src="./OKPAY   Разработчикам   Интерфейсы   Функции   Wallet Get Currency Balance_files/cn.png" alt="中国">中国</a><a href="https://www.okpay.com/th/developers/interfaces/functions/wallet-get-currency-balance.html"><img src="./OKPAY   Разработчикам   Интерфейсы   Функции   Wallet Get Currency Balance_files/th.png" alt="ไทย">ไทย</a><a href="https://www.okpay.com/vn/developers/interfaces/functions/wallet-get-currency-balance.html"><img src="./OKPAY   Разработчикам   Интерфейсы   Функции   Wallet Get Currency Balance_files/vn.png" alt="Việt">Việt</a><a href="https://www.okpay.com/ms/developers/interfaces/functions/wallet-get-currency-balance.html"><img src="./OKPAY   Разработчикам   Интерфейсы   Функции   Wallet Get Currency Balance_files/ms.png" alt="Melayu">Melayu</a><a href="https://www.okpay.com/et/developers/interfaces/functions/wallet-get-currency-balance.html"><img src="./OKPAY   Разработчикам   Интерфейсы   Функции   Wallet Get Currency Balance_files/et.png" alt="Eesti">Eesti</a><a href="https://www.okpay.com/hu/developers/interfaces/functions/wallet-get-currency-balance.html"><img src="./OKPAY   Разработчикам   Интерфейсы   Функции   Wallet Get Currency Balance_files/hu.png" alt="Magyar">Magyar</a><a href="https://www.okpay.com/pl/developers/interfaces/functions/wallet-get-currency-balance.html"><img src="./OKPAY   Разработчикам   Интерфейсы   Функции   Wallet Get Currency Balance_files/pl.png" alt="Polski">Polski</a><a href="https://www.okpay.com/fa/developers/interfaces/functions/wallet-get-currency-balance.html"><img src="./OKPAY   Разработчикам   Интерфейсы   Функции   Wallet Get Currency Balance_files/fa.png" alt="فارسی">فارسی</a><a href="https://www.okpay.com/ar/developers/interfaces/functions/wallet-get-currency-balance.html"><img src="./OKPAY   Разработчикам   Интерфейсы   Функции   Wallet Get Currency Balance_files/ar.png" alt=" العربية"> العربية</a></div>
</div>
<div class="support">
Нужна помощь? <br><a href="https://www.okpay.com/ru/support/index.html">Напишите</a> или <a href="https://www.okpay.com/ru/support/index.html#Talk">Позвоните</a>
</div>
</div>
<ul id="navigation">
<li class="logo ">
<a href="https://www.okpay.com/ru/index.html">
платежи —<br>это&nbsp;просто!
</a>
</li>
<li>
<a href="https://www.okpay.com/ru/solutions/index.html">Решения</a>
</li>
<li>
<a href="https://www.okpay.com/ru/support/index.html">Поддержка</a>
</li>
<li class="active">
<a href="https://www.okpay.com/ru/developers/index.html">Разработчикам</a>
</li>
<li>
<a href="https://www.okpay.com/ru/account/index.html">Мой счет</a>
</li>
</ul>
<div class="search">
<input type="text" name="txtSearch" id="txtSearch" class="field" value="Поиск" onfocus="this.value=(this.value==&#39;Поиск&#39;)?&#39;&#39;:this.value; $(this).css(&#39;color&#39;,&#39;#000&#39;);" onblur="this.value=(this.value==&#39;&#39;)?&#39;Поиск&#39;:this.value; $(this).css(&#39;color&#39;,&#39;#C2C2C2&#39;);" onkeypress="return SubmitOnEnter(this,event)">
<input type="button" name="btnSearch" id="btnSearch" class="button" onclick="SearchSite();">
</div>
<!--
<div class="marketplace">
<a href="/ru/marketplace/index.html">
<img src="/img/marketplace/market_logo_mini.png" alt="Marketplace" />
</a>
</div> -->
<div id="dvBottombar" class="bottombar">
<ul id="secondary">
<li class="f"><a href="https://www.okpay.com/ru/developers/marketplace/index.html">Каталог товаров</a></li>
<li><a href="https://www.okpay.com/ru/developers/paylinks/index.html">Ссылки на оплату</a></li>
<li><a href="https://www.okpay.com/ru/developers/seal/index.html">Печать OKPAY</a></li>
<li><a href="https://www.okpay.com/ru/developers/ipn/index.html">Уведомление об оплате</a></li>
<li><a href="https://www.okpay.com/ru/developers/interfaces/index.html">Интерфейсы</a></li>
<li><a href="https://www.okpay.com/ru/developers/currency-codes.html">Коды валют</a></li>
<li><a href="https://www.okpay.com/ru/developers/shop-systems/index.html">Системы магазинов</a></li>
</ul>
</div>
</div>
<div id="wrap">
<div id="sbarglobal" class="sidebar-global">
<script type="text/javascript">
$(document).ready(function() {
var cur_category = $("ul.navigation>li.active"); $("ul.navigation>li>a").mouseover(function() {
if ($(this).parent().html() != cur_category.html()) {if (cur_category) {cur_category.children("ul.dropdown").slideUp(300);}
$(this).parent().children("ul.dropdown").slideDown(300);cur_category = $(this).parent();}return false;
});
});
</script>
<div class="navigation_corners">
<div class="tr">
<div class="br">
<div class="bl">
<ul class="navigation">
<li><a href="https://www.okpay.com/ru/developers/index.html">Инструменты продавцов</a></li>
<ul class="subitem">
</ul>
<li><a href="https://www.okpay.com/ru/developers/assistance.html"></a></li>
<ul class="subitem">
</ul>
<li><a href="https://www.okpay.com/ru/developers/marketplace/index.html">Каталог товаров</a></li>
<ul class="subitem">
</ul>
<li><a href="https://www.okpay.com/ru/developers/paylinks/index.html">Ссылки на оплату</a></li>
<ul class="subitem">
<li><a href="https://www.okpay.com/ru/developers/paylinks/index.html">Обзор</a></li>
<li><a href="https://www.okpay.com/ru/developers/paylinks/generator.html">Генерация</a></li>
<li><a href="https://www.okpay.com/ru/developers/paylinks/buttons.html">Кнопки</a></li>
<li><a href="https://www.okpay.com/ru/developers/paylinks/variables.html">Справочник</a></li>
<li><a href="https://www.okpay.com/ru/developers/paylinks/auto-return.html">URL авто-возврата</a></li>
<li><a href="https://www.okpay.com/ru/developers/paylinks/code-samples.html">Code Samples</a></li>
</ul>
<li><a href="https://www.okpay.com/ru/developers/seal/index.html">Печать OKPAY</a></li>
<ul class="subitem">
</ul>
<li><a href="https://www.okpay.com/ru/developers/ipn/index.html">Уведомление об оплате</a></li>
<ul class="subitem">
<li><a href="https://www.okpay.com/ru/developers/ipn/index.html">Обзор IPN</a></li>
<li><a href="https://www.okpay.com/ru/developers/ipn/code-samples.html">Примеры кода</a></li>
<li><a href="https://www.okpay.com/ru/developers/ipn/history.html">История</a></li>
<li><a href="https://www.okpay.com/ru/developers/ipn/setup.html">Настройка</a></li>
<li><a href="https://www.okpay.com/ru/developers/ipn/testing.html">Тестирование</a></li>
<li><a href="https://www.okpay.com/ru/developers/ipn/variables.html">Справочник</a></li>
</ul>
<li><a href="https://www.okpay.com/ru/developers/interfaces/index.html">Интерфейсы</a></li>
<ul class="subitem">
<li><a href="https://www.okpay.com/ru/developers/interfaces/index.html">Обзор API</a></li>
<li><a href="https://www.okpay.com/ru/developers/interfaces/setup.html">Настройка</a></li>
<li><a href="https://www.okpay.com/ru/developers/interfaces/definitions.html">Определения</a></li>
<li><a href="https://www.okpay.com/ru/developers/interfaces/functions/index.html">Функции</a></li>
<li><a href="https://www.okpay.com/ru/developers/interfaces/code-samples.html">Примеры кода</a></li>
</ul>
<li><a href="https://www.okpay.com/ru/developers/currency-codes.html">Коды валют</a></li>
<ul class="subitem">
</ul>
<li><a href="https://www.okpay.com/ru/developers/shop-systems/index.html">Системы магазинов</a></li>
<ul class="subitem">
<li><a href="https://www.okpay.com/ru/developers/shop-systems/index.html">Обзор</a></li>
<li><a href="https://www.okpay.com/ru/developers/shop-systems/request.html">Запрос интеграции</a></li>
</ul>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="dvcontent" style="width:60%;" class=" content">
<div id="dvInnercontent" style="margin-right:13px;" class="round-border">
<ul class="navchain">
<li><a href="https://www.okpay.com/ru/index.html">Главная</a></li><li><a href="https://www.okpay.com/ru/developers/index.html">Разработчикам</a></li><li><a href="https://www.okpay.com/ru/developers/interfaces/index.html">Интерфейсы</a></li><li><a href="https://www.okpay.com/ru/developers/interfaces/functions/index.html">Функции</a></li>
</ul>
<h1 id="H1Title">Wallet Get Currency Balance</h1>
<link href="./OKPAY   Разработчикам   Интерфейсы   Функции   Wallet Get Currency Balance_files/prettify.css" rel="stylesheet" type="text/css">
<script src="./OKPAY   Разработчикам   Интерфейсы   Функции   Wallet Get Currency Balance_files/prettify.js" type="text/javascript"></script>
<script>
$(function () {
$("div#dvInnercontent pre").attr("class", "prettyprint").attr("dir", "ltr");
prettyPrint();
});
</script>
<h2 id="general">General</h2>
The Wallet_Get_Currency_Balance API (Application Programming Interface) is a simple interface that allows you to query our system to get the balance of the requested currency without logging into your OKPAY account.
<h2 id="general">Function</h2>
<pre style="overflow-x: scroll;" class="prettyprint" dir="ltr"><span class="typ">Balance</span><span class="pln"> </span><strong><span class="typ">Wallet_Get_Currency_Balance</span></strong><span class="pun">(</span><span class="pln">
</span><span style="padding-left:156px;"><span class="kwd">string</span><span class="pln"> </span><span class="typ">WalletID</span><span class="pun">,</span></span><span class="pln">
</span><span style="padding-left:156px;"><span class="kwd">string</span><span class="pln"> </span><span class="typ">SecurityToken</span><span class="pun">,</span><span class="pln"> </span></span><span class="pln">
</span><span style="padding-left:156px;"><span class="kwd">string</span><span class="pln"> </span><span class="typ">Currency</span><span class="pun">);</span></span></pre>
<h2 id="general">Parameters</h2>
<table cellspacing="0" width="100%" class="transactions-history show">
<thead>
<tr>
<th width="20%">Fields</th>
<th width="60%">Description</th>
<th width="20%">Example</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>WalletID</code></td>
<td>String value. This is a wallet which has enabled API access and which the user wishes to query <br>OKxxxxxxxxx up to 11 characters long</td>
<td> OK123456789<br>
OK987654321</td>
</tr>
<tr>
<td><code>SecurityToken</code></td>
<td>String value. This parameter consists of a hashed line of text formed by concatenating the API’s access password and UTC date</td>
<td>5950F9BDA723ECDF9859AD205412BB4<br>4E0DAB16630CA4462490DE64B02305F8D</td>
</tr>
<tr>
<td><code>Currency</code></td>
<td>String value. Currency is listed in of the following formats:
<ul>
<li>USD <em>(OKPAY, USD)</em></li>
<li>EUR <em>(OKPAY, EUR)</em></li>
</ul></td>
<td><p>USD, EUR, etc.<br>
<a href="https://www.okpay.com/developers/currency-codes.html">See the list of currency codes</a>. </p></td>
</tr>
</tbody>
</table>
<h2 id="general">Return Parameter</h2>
<strong>Balance</strong> - Currency balance details.<br>
<a href="https://www.okpay.com/developers/interfaces/functions/data-structures.html">See data structures</a>
<h2 id="general">Code Samples</h2>
<div class="text">
<h3><img src="./OKPAY   Разработчикам   Интерфейсы   Функции   Wallet Get Currency Balance_files/prog-php.png" width="80" height="48" alt="PHP"> Sample in PHP</h3>
<div class="hidden">
<p>The following code is written in PHP. </p>
<pre style="overflow-x: scroll;" class="prettyprint" dir="ltr"><span class="dec">&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"&gt;</span><br><span class="pln"> </span><span class="tag">&lt;html&gt;</span><br><span class="pln"> </span><span class="tag">&lt;head&gt;</span><br><span class="pln"> 	</span><span class="tag">&lt;meta</span><span class="pln"> </span><span class="atn">http-equiv</span><span class="pun">=</span><span class="atv">"Content-Type"</span><span class="pln"> </span><span class="atn">content</span><span class="pun">=</span><span class="atv">"text/html; charset=UTF-8"</span><span class="tag">&gt;</span><br><span class="pln"> 	</span><span class="tag">&lt;title&gt;</span><span class="pln">OKPAY API PHP Test</span><span class="tag">&lt;/title&gt;</span><br><span class="pln"> </span><span class="tag">&lt;/head&gt;</span><br><br><span class="pln"> </span><span class="tag">&lt;body&gt;</span><br><br><span class="pln"> </span><span class="pun">&lt;?</span><span class="pln">php</span><br><span class="pln"> 	ini_set</span><span class="pun">(</span><span class="str">"display_errors"</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">);</span><br><span class="pln"> 	echo </span><span class="str">"&lt;h1&gt;OKPAY API PHP Test&lt;/h1&gt;\r\n\r\n"</span><span class="pun">;</span><br><span class="pln"> 	</span><span class="kwd">try</span><br><span class="pln"> 	</span><span class="pun">{</span><br><span class="pln"> 		$secWord  </span><span class="pun">=</span><span class="pln"> </span><span class="str">"secretword"</span><span class="pun">;</span><span class="pln"> </span><span class="com">// wallet API password</span><br><span class="pln"> 		$WalletID </span><span class="pun">=</span><span class="pln"> </span><span class="str">"OKxxxxxxxxx"</span><span class="pun">;</span><span class="pln"> </span><span class="com">// wallet ID</span><br><br><span class="pln"> 		$datePart </span><span class="pun">=</span><span class="pln"> gmdate</span><span class="pun">(</span><span class="str">"Ymd"</span><span class="pun">);</span><br><span class="pln"> 		$timePart </span><span class="pun">=</span><span class="pln"> gmdate</span><span class="pun">(</span><span class="str">"H"</span><span class="pun">);</span><br><span class="pln"> 		$authString </span><span class="pun">=</span><span class="pln"> $secWord</span><span class="pun">.</span><span class="str">":"</span><span class="pun">.</span><span class="pln">$datePart</span><span class="pun">.</span><span class="str">":"</span><span class="pun">.</span><span class="pln">$timePart</span><span class="pun">;</span><br><br><span class="pln"> 		echo </span><span class="str">"&lt;p&gt;AuthString: "</span><span class="pun">.</span><span class="pln">$authString</span><span class="pun">.</span><span class="str">"&lt;/p&gt;"</span><span class="pun">;</span><br><span class="pln"> 		$sha256 </span><span class="pun">=</span><span class="pln"> bin2hex</span><span class="pun">(</span><span class="pln">mhash</span><span class="pun">(</span><span class="pln">MHASH_SHA256</span><span class="pun">,</span><span class="pln"> $authString</span><span class="pun">));</span><br><span class="pln"> 		$secToken </span><span class="pun">=</span><span class="pln"> strtoupper</span><span class="pun">(</span><span class="pln">$sha256</span><span class="pun">);</span><br><br><span class="pln"> 		echo </span><span class="str">"&lt;p&gt;Security Token: "</span><span class="pun">.</span><span class="pln">$secToken</span><span class="pun">.</span><span class="str">"&lt;/p&gt;"</span><span class="pun">;</span><br><br><br><span class="pln"> 		$client </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">SoapClient</span><span class="pun">(</span><span class="str">"https://api.okpay.com/OkPayAPI?wsdl"</span><span class="pun">);</span><br><br><br><span class="pln"> 		echo </span><span class="str">"Get Balance for EUR currency (Wallet_Get_Currency_Balance)&lt;br /&gt;&lt;br /&gt;"</span><span class="pun">;</span><br><span class="pln"> 		$obj</span><span class="pun">-&gt;</span><span class="typ">WalletID</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> $WalletID</span><span class="pun">;</span><br><span class="pln"> 		$obj</span><span class="pun">-&gt;</span><span class="typ">SecurityToken</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> $secToken</span><span class="pun">;</span><br><span class="pln"> 		$obj</span><span class="pun">-&gt;</span><span class="typ">Currency</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="str">"EUR"</span><span class="pun">;</span><br><br><span class="pln"> 		$webService1 </span><span class="pun">=</span><span class="pln"> $client</span><span class="pun">-&gt;</span><span class="typ">Wallet_Get_Currency_Balance</span><span class="pun">(</span><span class="pln">$obj</span><span class="pun">);</span><br><span class="pln"> 		$wsResult1 </span><span class="pun">=</span><span class="pln"> $webService1</span><span class="pun">-&gt;</span><span class="typ">Wallet_Get_Currency_BalanceResult</span><span class="pun">;</span><br><br><span class="pln"> 		print_r</span><span class="pun">(</span><span class="pln">$wsResult1</span><span class="pun">);</span><br><br><span class="pln"> 	</span><span class="pun">}</span><br><span class="pln"> 	</span><span class="kwd">catch</span><span class="pln"> </span><span class="pun">(</span><span class="typ">Exception</span><span class="pln"> $e</span><span class="pun">)</span><br><span class="pln"> 	</span><span class="pun">{</span><br><span class="pln"> 		</span><span class="kwd">print</span><span class="pln">  </span><span class="str">"Caught exception: "</span><span class="pun">.</span><span class="pln">  $e</span><span class="pun">-&gt;</span><span class="pln">getMessage</span><span class="pun">().</span><span class="pln"> </span><span class="str">"\n"</span><span class="pun">;</span><br><span class="pln"> 	</span><span class="pun">}</span><br><span class="pln"> </span><span class="pun">?&gt;</span><br><span class="tag">&lt;/body&gt;</span><br><span class="tag">&lt;/html&gt;</span><br></pre>
</div>
</div>
<div class="text">
<h3><img src="./OKPAY   Разработчикам   Интерфейсы   Функции   Wallet Get Currency Balance_files/prog-csharp.png" width="80" height="48" alt="C#"> Sample  in C#</h3>
<div class="hidden">
<p>The following code is written in C#.</p>
<pre style="overflow-x: scroll;" class="prettyprint" dir="ltr"><span class="typ">Add</span><span class="pln"> </span><span class="typ">Service</span><span class="pln"> </span><span class="typ">Reference</span><span class="pln"> to your C</span><span class="com"># project (https://api.okpay.com/OkPayAPI) </span><br><br><span class="kwd">class</span><span class="pln"> </span><span class="typ">Program</span><br><span class="pln"> </span><span class="pun">{</span><br><span class="pln">  </span><span class="kwd">static</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> </span><span class="typ">Main</span><span class="pun">(</span><span class="kwd">string</span><span class="pun">[]</span><span class="pln"> args</span><span class="pun">)</span><br><span class="pln">  </span><span class="pun">{</span><br><span class="pln">   </span><span class="com">//API Access Information </span><br><span class="pln">   </span><span class="kwd">string</span><span class="pln"> codeword </span><span class="pun">=</span><span class="pln"> </span><span class="str">"codeword"</span><span class="pun">;</span><br><span class="pln">   </span><span class="kwd">string</span><span class="pln"> walletID </span><span class="pun">=</span><span class="pln"> </span><span class="str">"OKxxxxxxxxx"</span><span class="pun">;</span><br><span class="pln">   </span><span class="com">//Generating Security Token</span><br><span class="pln">   </span><span class="kwd">string</span><span class="pln"> securityToken </span><span class="pun">=</span><span class="pln"> </span><span class="typ">HashStringSHA256</span><span class="pun">(</span><span class="pln">codeword </span><span class="pun">+</span><span class="pln"> </span><span class="typ">DateTime</span><span class="pun">.</span><span class="typ">UtcNow</span><span class="pun">.</span><span class="typ">ToString</span><span class="pun">(</span><span class="str">":yyyyMMdd:HH"</span><span class="pun">));</span><br><span class="pln">      </span><br><span class="pln">   </span><span class="com">//Creating proxy client</span><br><span class="pln">   </span><span class="kwd">using</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">var</span><span class="pln"> proxy </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">OkPayAPI</span><span class="pun">.</span><span class="pln">I_OkPayAPIClient</span><span class="pun">())</span><br><span class="pln">   </span><span class="pun">{</span><br><span class="pln">    </span><span class="com">//Get Balance</span><br><span class="pln">    </span><span class="kwd">var</span><span class="pln"> balance </span><span class="pun">=</span><span class="pln"> proxy</span><span class="pun">.</span><span class="typ">Wallet_Get_Currency_Balance</span><span class="pun">(</span><span class="pln">walletID</span><span class="pun">,</span><span class="pln"> securityToken</span><span class="pun">,</span><span class="pln"> </span><span class="str">"USD"</span><span class="pun">))</span><br><span class="pln">    </span><span class="typ">Console</span><span class="pun">.</span><span class="typ">WriteLine</span><span class="pun">(</span><span class="pln">balance</span><span class="pun">.</span><span class="typ">Currency</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="str">": "</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> balance</span><span class="pun">.</span><span class="typ">Amount</span><span class="pun">.</span><span class="typ">ToString</span><span class="pun">(</span><span class="str">"0.00"</span><span class="pun">));</span><br><span class="pln">   </span><span class="pun">}</span><br><br><span class="pln">   </span><span class="typ">Console</span><span class="pun">.</span><span class="typ">ReadLine</span><span class="pun">();</span><br><span class="pln">  </span><span class="pun">}</span><br><br><span class="pln">  </span><span class="com">//Calculating Hash</span><br><span class="pln">  </span><span class="kwd">static</span><span class="pln"> </span><span class="kwd">string</span><span class="pln"> </span><span class="typ">HashStringSHA256</span><span class="pun">(</span><span class="kwd">string</span><span class="pln"> </span><span class="typ">Value</span><span class="pun">)</span><br><span class="pln">  </span><span class="pun">{</span><br><span class="pln">   </span><span class="typ">System</span><span class="pun">.</span><span class="typ">Security</span><span class="pun">.</span><span class="typ">Cryptography</span><span class="pun">.</span><span class="pln">SHA256CryptoServiceProvider x </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">System</span><span class="pun">.</span><span class="typ">Security</span><span class="pun">.</span><span class="typ">Cryptography</span><span class="pun">.</span><span class="pln">SHA256CryptoServiceProvider</span><span class="pun">();</span><br><span class="pln">   </span><span class="kwd">byte</span><span class="pun">[]</span><span class="pln"> data </span><span class="pun">=</span><span class="pln"> </span><span class="typ">System</span><span class="pun">.</span><span class="typ">Text</span><span class="pun">.</span><span class="typ">Encoding</span><span class="pun">.</span><span class="pln">ASCII</span><span class="pun">.</span><span class="typ">GetBytes</span><span class="pun">(</span><span class="typ">Value</span><span class="pun">);</span><br><span class="pln">   data </span><span class="pun">=</span><span class="pln"> x</span><span class="pun">.</span><span class="typ">ComputeHash</span><span class="pun">(</span><span class="pln">data</span><span class="pun">);</span><br><span class="pln">   </span><span class="kwd">return</span><span class="pln"> </span><span class="typ">BitConverter</span><span class="pun">.</span><span class="typ">ToString</span><span class="pun">(</span><span class="pln">data</span><span class="pun">).</span><span class="typ">Replace</span><span class="pun">(</span><span class="str">"-"</span><span class="pun">,</span><span class="pln"> </span><span class="str">""</span><span class="pun">);</span><br><span class="pln">  </span><span class="pun">}</span><br><span class="pln"> </span><span class="pun">}</span><br></pre>
</div>
</div>
</div>
</div>
<div id="sbarlocal" class="sidebar-local">
<div id="dvSidesignup" class="signup">
<div class="inner">
<div class="r">
<a href="https://www.okpay.com/ru/account/signup.html" class="center">
<span style="display:block; margin-left:-42px;width:184px;">Открыть счет</span>
</a>
</div>
</div>
</div>
<div id="dvSidelogin" class="login">
<div class="wrap">
<div class="loginForm">
<h3>
Управление счетом
</h3>
<label for="txtLogin" id="Login_Email">Эл.почта</label>
<input name="ctl00$txtLogin" type="text" id="txtLogin" class="input">
<div style="clear:both; height: 5px;"></div>
<label for="txtPassword" id="Login_Password">Пароль</label>
<input name="ctl00$txtPassword" type="password" id="txtPassword" class="input">
<div style="clear:both; height: 5px;"></div>
<div style="margin-left:37%; margin-top:10px;">
<div class="input-button-block blue">
<input type="submit" name="ctl00$Login_btnLogin" value="Войти" id="Login_btnLogin">
</div>
</div>
<div style="clear:both;"></div>
<div class="link">
<a href="https://www.okpay.com/ru/account/forgot-password.html">
Забыли пароль?
</a>
</div>
<div class="link">
<a href="https://www.okpay.com/ru/account/email-recovery.html">
Забыли эл. почту?
</a>
</div>
</div>
</div>
</div>
<div class="debitcardlink">
<div class="wrap">
<div class="loginForm">
<h3>
Дебетовая карта OKPAY
</h3>
<a href="https://www.okpay.com/ru/services/debit-card/index.html" class="img">
<span style="display: block;padding-left:16px;padding-top:108px;">Введите Ваше имя</span>
</a>
</div>
</div>
</div>
<div id="shopSystem" class="shop-system">
<div class="inner">
<h3 class="r">
<a href="https://www.okpay.com/ru/developers/shop-systems/index.html">
Supported <br>
Shopping <br>
Carts
</a>
</h3>
</div>
<div class="list">
<a href="https://www.okpay.com/ru/developers/shop-systems/mals/index.html" class="img"><img src="./OKPAY   Разработчикам   Интерфейсы   Функции   Wallet Get Currency Balance_files/141206.jpg" alt="Mal&#39;s e-commerce" title="Mal&#39;s e-commerce"></a>
<a href="https://www.okpay.com/ru/developers/shop-systems/viart/index.html" class="img"><img src="./OKPAY   Разработчикам   Интерфейсы   Функции   Wallet Get Currency Balance_files/159851.jpg" alt="ViArt Shop" title="ViArt Shop"></a>
<a href="https://www.okpay.com/ru/developers/shop-systems/cre/index.html" class="img"><img src="./OKPAY   Разработчикам   Интерфейсы   Функции   Wallet Get Currency Balance_files/122561.jpg" alt="CRELoaded" title="CRELoaded"></a>
<a href="https://www.okpay.com/ru/developers/shop-systems/alegrocart/index.html" class="img"><img src="./OKPAY   Разработчикам   Интерфейсы   Функции   Wallet Get Currency Balance_files/166066.jpg" alt="AlegroCart" title="AlegroCart"></a>
<a href="https://www.okpay.com/ru/developers/shop-systems/highwire/index.html" class="img"><img src="./OKPAY   Разработчикам   Интерфейсы   Функции   Wallet Get Currency Balance_files/134991.jpg" alt="Highwire" title="Highwire"></a>
<a href="https://www.okpay.com/ru/developers/shop-systems/cyberoffice/index.html" class="img"><img src="./OKPAY   Разработчикам   Интерфейсы   Функции   Wallet Get Currency Balance_files/125047.jpg" alt="Cyber Office" title="Cyber Office"></a>
<a href="https://www.okpay.com/ru/developers/shop-systems/oscommerce/index.html" class="img"><img src="./OKPAY   Разработчикам   Интерфейсы   Функции   Wallet Get Currency Balance_files/12673.jpg" alt="osCommerce" title="osCommerce"></a>
<a href="https://www.okpay.com/ru/developers/shop-systems/x-cart/index.html" class="img"><img src="./OKPAY   Разработчикам   Интерфейсы   Функции   Wallet Get Currency Balance_files/164823.jpg" alt="X-Cart" title="X-Cart"></a>
<a href="https://www.okpay.com/ru/developers/shop-systems/sunshop/index.html" class="img"><img src="./OKPAY   Разработчикам   Интерфейсы   Функции   Wallet Get Currency Balance_files/157365.jpg" alt="SunShop" title="SunShop"></a>
<a href="https://www.okpay.com/ru/developers/shop-systems/comersus/index.html" class="img"><img src="./OKPAY   Разработчикам   Интерфейсы   Функции   Wallet Get Currency Balance_files/118832.jpg" alt="Comersus Cart" title="Comersus Cart"></a>
<div style="clear:both;"></div>
</div>
</div>
<div id="dvRigthContent" class="document-contents">
</div>
</div>
</div>
<div style="clear:both;"></div>
<div>
<input type="hidden" name="__EVENTVALIDATION" id="__EVENTVALIDATION" value="/wEWBAL1r9qYAwLT4e+AAwKB7cu1BQK4oP2ICvZoIvcjDoCZ+XHGDiQ1+rMJQvq2">
</div>
<script type="text/javascript" src="./OKPAY   Разработчикам   Интерфейсы   Функции   Wallet Get Currency Balance_files/util.js"></script></form>
<div id="footer">
<div class="container">
<div class="round-border">
<div class="copyright">
<div>
<p style="text-align:right;">
<span>
Авторские права © 2007–2012 OKPAY Inc. Все права защищены.
</span>
</p>
</div>
<div>
<p style="text-align:left; margin-left:20px;">
<span id="spBottomLinks">
<a href="https://www.okpay.com/ru/index.html">Главная</a>
|
<a href="https://www.okpay.com/ru/site-map.html">Карта сайта</a>
|
<a href="https://www.okpay.com/ru/company/agreements/index.html">Юридические соглашения</a>
|
<a href="https://www.okpay.com/ru/company/index.html">Компания</a>
</span>
</p>
</div>
</div>
<div style="clear:both;"></div>
<div class="info">
<div>
<p style="text-align:right;">
OKPAY® это зарегистрированная торговая марка компании OKPAY Inc.<br>
Financial Services provided by UWC Financial Services Ltd.
</p>
</div>
<div>
<p style="text-align:left; margin-left:20px;">
OKPAY, Inc., VG1110, Mill Mall Tower, 2nd Floor, Wickhams Cay 1, <br> PO Box 4406, Road Town, Tortola, British Virgin Islands.
</p>
</div>
</div>
<div style="clear:both;"></div>
</div>
</div>
</div>
<script type="text/javascript">
$(function () {
langpanel(); preloadimg();
var pathname = window.location.pathname;
if (pathname.indexOf("ar") != -1 || pathname.indexOf("fa") != -1) {
if ($.browser.msie) {
$("div.form div.line").append("<span class='iefake'>&nbsp;</span>");
}
}
});
function SubmitOnEnter(myfield, e){
var keycode;if (window.event){keycode = window.event.keyCode;}
else if (e) keycode = e.which;
else return true;
if (keycode == 13){SearchSite();return false;}
else return true;}
function SearchSite(){
document.location.href='http://www.google.com/cse?cx=013398180710766064738:gwzrrk3zahi&ie=UTF-8&q=' +
document.getElementById('txtSearch').value + '&sa=Search';
}
</script>
<noscript>
&lt;div style="position:absolute; top:0; height:20px; background:#FFF"&gt;
&lt;p class="nonjsAlert"&gt;Примечание: многие функции на веб-сайте OKPAY требуют включенных JavaScript и Cookies. Вы должны включить эти опции в настройках браузера.&lt;/p&gt;
&lt;/div&gt;
</noscript>


<div style="display: none; " id="hiddenlpsubmitdiv"></div><script>try{for(var lastpass_iter=0; lastpass_iter < document.forms.length; lastpass_iter++){ var lastpass_f = document.forms[lastpass_iter]; if(typeof(lastpass_f.lpsubmitorig2)=="undefined"){ lastpass_f.lpsubmitorig2 = lastpass_f.submit; lastpass_f.submit = function(){ var form=this; var customEvent = document.createEvent("Event"); customEvent.initEvent("lpCustomEvent", true, true); var d = document.getElementById("hiddenlpsubmitdiv"); for(var i = 0; i < document.forms.length; i++){ if(document.forms[i]==form){ d.innerText=i; } } d.dispatchEvent(customEvent); form.lpsubmitorig2(); } } }}catch(e){}</script></body></html>